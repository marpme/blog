---
import HeaderLink from "./HeaderLink.astro";
import DarkModeToggle from "./DarkModeToggle.astro";
import Logo from "./Logo.astro";
---

<header>
  <Logo />
  <nav>
    <section class="text-text-bold">
      <ul class="unset flex gap-4 [&>li]:p-0">
        <li><HeaderLink href="/">Home</HeaderLink></li>
        <li><HeaderLink href="/blog">Blog</HeaderLink></li>
        <li><HeaderLink href="/projects">Projects</HeaderLink></li>
      </ul>
    </section>
  </nav>
  <div
    class="max-[375px]:hidden justify-self-end py-2 flex items-center content-center text-text-bold"
  >
    <a
      class="unset text-xl ml-4 hover:text-text-link"
      href="https://github.com/marpme"
    >
      <i
        class="fa-brands fa-github"
        aria-hidden="true"
        title="Blogster on GitHub"></i>
      <span class="fa-sr-only">marpme on GitHub</span>
    </a>
    <a
      class="unset text-xl ml-4 hover:text-text-link"
      href="https://twitter.com/marpme_"
    >
      <i
        class="fa-brands fa-twitter"
        aria-hidden="true"
        title="marpme on Twitter"></i>
      <span class="fa-sr-only">marpme on Twitter</span>
    </a>
  </div>
  <DarkModeToggle />

  <style>
    header {
      grid-area: header;
      display: grid;
      align-items: center;
      grid-template-columns:
        minmax(0, max-content) minmax(0, 1fr)
        minmax(0, max-content) minmax(0, max-content);
    }

    .logo {
      display: flex;
      align-content: center;
      justify-content: center;
      margin-inline-end: 2rem;
    }

    @keyframes grow {
      0% {
        stroke-width: 1px;
        stroke-dashoffset: 1px;
        stroke-dasharray: 0 150px;
        opacity: 0;
      }

      20% {
        opacity: 1;
        stroke-width: 5px;
      }

      40% {
        stroke-dasharray: 150px 0;
      }

      /* Moving back */
      85% {
        stroke-dasharray: 150px 0;
      }

      95%,
      to {
        stroke-dasharray: 0 150px;
      }
    }

    html.dark .logo path {
      stroke: #f3f3f3;
    }

    html.light .logo path {
      stroke: #303030;
    }

    svg path {
      stroke-width: 5px;
      stroke-dashoffset: 1px;
      stroke-dasharray: 150px 0;
      animation: grow 10s ease forwards infinite;
      transform-origin: center;
      animation-delay: 0s;
    }
  </style>
</header>
